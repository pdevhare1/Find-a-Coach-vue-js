(function(){"use strict";var e={318:function(e,t,a){var s=a(9963),o=a(2119),r=a(6252),i=a(3577);const n=(0,r._)("h2",null,"Interested? Reach out now!",-1);function l(e,t,a,s,o,l){const c=(0,r.up)("base-card"),d=(0,r.up)("base-button"),u=(0,r.up)("router-view"),h=(0,r.up)("base-badge");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("section",null,[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r._)("h2",null,(0,i.zw)(l.fullName),1),(0,r._)("h3",null,"$"+(0,i.zw)(l.rate)+"/hour",1)])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r._)("header",null,[n,(0,r.Wm)(d,{link:"",to:l.contactLink},{default:(0,r.w5)((()=>[(0,r.Uk)("Contact")])),_:1},8,["to"])]),(0,r.Wm)(u)])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.areas,(e=>((0,r.wg)(),(0,r.j4)(h,{key:e,type:e,title:e},null,8,["type","title"])))),128)),(0,r._)("p",null,(0,i.zw)(l.description),1)])),_:1})])])}var c={props:["id"],data(){return{selectedCoach:null}},computed:{fullName(){return this.selectedCoach.firstName+" "+this.selectedCoach.lastName},areas(){return this.selectedCoach.areas},rate(){return this.selectedCoach.hourlyRate},description(){return this.selectedCoach.description},contactLink(){return this.$route.path+"/"+this.id+"/contact"}},created(){this.selectedCoach=this.$store.getters["coaches/coaches"].find((e=>e.id===this.id))}},d=a(3744);const u=(0,d.Z)(c,[["render",l]]);var h=u;const m={class:"controls"},p={key:0},f={key:1},g={key:2};function v(e,t,a,s,o,n){const l=(0,r.up)("base-dialog"),c=(0,r.up)("coach-filter"),d=(0,r.up)("base-button"),u=(0,r.up)("base-spinner"),h=(0,r.up)("coach-item"),v=(0,r.up)("base-card");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(l,{show:!!o.error,title:"An error occurred!",onClose:n.handleError},{default:(0,r.w5)((()=>[(0,r._)("p",null,(0,i.zw)(o.error),1)])),_:1},8,["show","onClose"]),(0,r._)("section",null,[(0,r.Wm)(c,{onChangeFilter:n.setFilters},null,8,["onChangeFilter"])]),(0,r._)("section",null,[(0,r.Wm)(v,null,{default:(0,r.w5)((()=>[(0,r._)("div",m,[(0,r.Wm)(d,{mode:"outline",onClick:t[0]||(t[0]=e=>n.loadCoaches(!0))},{default:(0,r.w5)((()=>[(0,r.Uk)("Refresh")])),_:1}),n.isLoggedIn?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(d,{key:0,link:"",to:"/auth?redirect=register"},{default:(0,r.w5)((()=>[(0,r.Uk)("Login to Register as Coach")])),_:1})),!n.isLoggedIn||n.isCoach||o.isLoading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(d,{key:1,link:"",to:"/register"},{default:(0,r.w5)((()=>[(0,r.Uk)("Register as Coach")])),_:1}))]),o.isLoading?((0,r.wg)(),(0,r.iD)("div",p,[(0,r.Wm)(u)])):n.hasCoaches?((0,r.wg)(),(0,r.iD)("ul",f,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.filteredCoaches,(e=>((0,r.wg)(),(0,r.j4)(h,{key:e.id,id:e.id,"first-name":e.firstName,"last-name":e.lastName,rate:e.hourlyRate,areas:e.areas},null,8,["id","first-name","last-name","rate","areas"])))),128))])):((0,r.wg)(),(0,r.iD)("h3",g,"No coaches found."))])),_:1})])])}const w={class:"actions"};function _(e,t,a,s,o,n){const l=(0,r.up)("base-badge"),c=(0,r.up)("base-button");return(0,r.wg)(),(0,r.iD)("li",null,[(0,r._)("h3",null,(0,i.zw)(n.fullName),1),(0,r._)("h4",null,"$"+(0,i.zw)(a.rate)+"/hour",1),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.areas,(e=>((0,r.wg)(),(0,r.j4)(l,{key:e,type:e,title:e},null,8,["type","title"])))),128))]),(0,r._)("div",w,[(0,r.Wm)(c,{mode:"outline",link:"",to:n.coachContactLink},{default:(0,r.w5)((()=>[(0,r.Uk)("Contact")])),_:1},8,["to"]),(0,r.Wm)(c,{link:"",to:n.coachDetailsLink},{default:(0,r.w5)((()=>[(0,r.Uk)("View Details")])),_:1},8,["to"])])])}var k={props:["id","firstName","lastName","rate","areas"],computed:{fullName(){return this.firstName+" "+this.lastName},coachContactLink(){return this.$route.path+"/"+this.id+"/contact"},coachDetailsLink(){return this.$route.path+"/"+this.id}}};const b=(0,d.Z)(k,[["render",_],["__scopeId","data-v-7dc16877"]]);var y=b;const C=e=>((0,r.dD)("data-v-cba6b086"),e=e(),(0,r.Cn)(),e),I=C((()=>(0,r._)("h2",null,"Find Your Coach",-1))),q={class:"filter-option"},D=C((()=>(0,r._)("label",{for:"frontend"},"Frontend",-1))),V={class:"filter-option"},L=C((()=>(0,r._)("label",{for:"backend"},"Backend",-1))),F={class:"filter-option"},N=C((()=>(0,r._)("label",{for:"career"},"Career",-1)));function W(e,t,a,s,o,i){const n=(0,r.up)("base-card");return(0,r.wg)(),(0,r.j4)(n,null,{default:(0,r.w5)((()=>[I,(0,r._)("span",q,[(0,r._)("input",{type:"checkbox",id:"frontend",checked:"",onChange:t[0]||(t[0]=(...e)=>i.setFilter&&i.setFilter(...e))},null,32),D]),(0,r._)("span",V,[(0,r._)("input",{type:"checkbox",id:"backend",checked:"",onChange:t[1]||(t[1]=(...e)=>i.setFilter&&i.setFilter(...e))},null,32),L]),(0,r._)("span",F,[(0,r._)("input",{type:"checkbox",id:"career",checked:"",onChange:t[2]||(t[2]=(...e)=>i.setFilter&&i.setFilter(...e))},null,32),N])])),_:1})}var U={emits:["change-filter"],data(){return{filters:{frontend:!0,backend:!0,career:!0}}},methods:{setFilter(e){const t=e.target.id,a=e.target.checked,s={...this.filters,[t]:a};this.filters=s,this.$emit("change-filter",s)}}};const $=(0,d.Z)(U,[["render",W],["__scopeId","data-v-cba6b086"]]);var R=$,j={components:{CoachItem:y,CoachFilter:R},data(){return{isLoading:!1,error:null,activeFilters:{frontend:!0,backend:!0,career:!0}}},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated},isCoach(){return this.$store.getters["coaches/isCoach"]},filteredCoaches(){const e=this.$store.getters["coaches/coaches"];return e.filter((e=>!(!this.activeFilters.frontend||!e.areas.includes("frontend"))||(!(!this.activeFilters.backend||!e.areas.includes("backend"))||!(!this.activeFilters.career||!e.areas.includes("career")))))},hasCoaches(){return!this.isLoading&&this.$store.getters["coaches/hasCoaches"]}},created(){this.loadCoaches()},methods:{setFilters(e){this.activeFilters=e},async loadCoaches(e=!1){this.isLoading=!0;try{await this.$store.dispatch("coaches/loadCoaches",{forceRefresh:e})}catch(t){this.error=t.message||"Something went wrong!"}this.isLoading=!1},handleError(){this.error=null}}};const A=(0,d.Z)(j,[["render",v],["__scopeId","data-v-ee47705e"]]);var S=A;const x=(0,r._)("h2",null,"Register as a coach now!",-1);function T(e,t,a,s,o,i){const n=(0,r.up)("coach-form"),l=(0,r.up)("base-card");return(0,r.wg)(),(0,r.iD)("section",null,[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[x,(0,r.Wm)(n,{onSaveData:i.saveData},null,8,["onSaveData"])])),_:1})])}const O=e=>((0,r.dD)("data-v-3a5e62e9"),e=e(),(0,r.Cn)(),e),E=O((()=>(0,r._)("label",{for:"firstname"},"Firstname",-1))),B={key:0},Z=O((()=>(0,r._)("label",{for:"lastname"},"Lastname",-1))),z={key:0},M=O((()=>(0,r._)("label",{for:"description"},"Description",-1))),P={key:0},Y=O((()=>(0,r._)("label",{for:"rate"},"Hourly Rate",-1))),H={key:0},J=O((()=>(0,r._)("h3",null,"Areas of Expertise",-1))),G=O((()=>(0,r._)("label",{for:"frontend"},"Frontend Development",-1))),K=O((()=>(0,r._)("label",{for:"backend"},"Backend Development",-1))),Q=O((()=>(0,r._)("label",{for:"career"},"Career Advisory",-1))),X={key:0},ee={key:0};function te(e,t,a,o,n,l){const c=(0,r.up)("base-button");return(0,r.wg)(),(0,r.iD)("form",{onSubmit:t[14]||(t[14]=(0,s.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,r._)("div",{class:(0,i.C_)(["form-control",{invalid:!n.firstName.isValid}])},[E,(0,r.wy)((0,r._)("input",{type:"text",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=e=>n.firstName.val=e),onBlur:t[1]||(t[1]=e=>l.clearValidity("firstName"))},null,544),[[s.nr,n.firstName.val,void 0,{trim:!0}]]),n.firstName.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",B,"Firstname must not be empty."))],2),(0,r._)("div",{class:(0,i.C_)(["form-control",{invalid:!n.lastName.isValid}])},[Z,(0,r.wy)((0,r._)("input",{type:"text",id:"lastname","onUpdate:modelValue":t[2]||(t[2]=e=>n.lastName.val=e),onBlur:t[3]||(t[3]=e=>l.clearValidity("lastName"))},null,544),[[s.nr,n.lastName.val,void 0,{trim:!0}]]),n.lastName.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",z,"Lastname must not be empty."))],2),(0,r._)("div",{class:(0,i.C_)(["form-control",{invalid:!n.description.isValid}])},[M,(0,r.wy)((0,r._)("textarea",{id:"description",rows:"5","onUpdate:modelValue":t[4]||(t[4]=e=>n.description.val=e),onBlur:t[5]||(t[5]=e=>l.clearValidity("description"))},null,544),[[s.nr,n.description.val,void 0,{trim:!0}]]),n.description.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",P,"Description must not be empty."))],2),(0,r._)("div",{class:(0,i.C_)(["form-control",{invalid:!n.rate.isValid}])},[Y,(0,r.wy)((0,r._)("input",{type:"number",id:"rate","onUpdate:modelValue":t[6]||(t[6]=e=>n.rate.val=e),onBlur:t[7]||(t[7]=e=>l.clearValidity("rate"))},null,544),[[s.nr,n.rate.val,void 0,{number:!0}]]),n.rate.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",H,"Rate must be greater than 0."))],2),(0,r._)("div",{class:(0,i.C_)(["form-control",{invalid:!n.areas.isValid}])},[J,(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"frontend",value:"frontend","onUpdate:modelValue":t[8]||(t[8]=e=>n.areas.val=e),onBlur:t[9]||(t[9]=e=>l.clearValidity("areas"))},null,544),[[s.e8,n.areas.val]]),G]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"backend",value:"backend","onUpdate:modelValue":t[10]||(t[10]=e=>n.areas.val=e),onBlur:t[11]||(t[11]=e=>l.clearValidity("areas"))},null,544),[[s.e8,n.areas.val]]),K]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"career",value:"career","onUpdate:modelValue":t[12]||(t[12]=e=>n.areas.val=e),onBlur:t[13]||(t[13]=e=>l.clearValidity("areas"))},null,544),[[s.e8,n.areas.val]]),Q]),n.areas.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",X,"At least one expertise must be selected."))],2),n.formIsValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",ee,"Please fix the above errors and submit again.")),(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Uk)("Register")])),_:1})],32)}var ae={emits:["save-data"],data(){return{firstName:{val:"",isValid:!0},lastName:{val:"",isValid:!0},description:{val:"",isValid:!0},rate:{val:null,isValid:!0},areas:{val:[],isValid:!0},formIsValid:!0}},methods:{clearValidity(e){this[e].isValid=!0},validateForm(){this.formIsValid=!0,""===this.firstName.val&&(this.firstName.isValid=!1,this.formIsValid=!1),""===this.lastName.val&&(this.lastName.isValid=!1,this.formIsValid=!1),""===this.description.val&&(this.description.isValid=!1,this.formIsValid=!1),(!this.rate.val||this.rate.val<0)&&(this.rate.isValid=!1,this.formIsValid=!1),0===this.areas.val.length&&(this.areas.isValid=!1,this.formIsValid=!1)},submitForm(){if(this.validateForm(),!this.formIsValid)return;const e={first:this.firstName.val,last:this.lastName.val,desc:this.description.val,rate:this.rate.val,areas:this.areas.val};this.$emit("save-data",e)}}};const se=(0,d.Z)(ae,[["render",te],["__scopeId","data-v-3a5e62e9"]]);var oe=se,re={components:{CoachForm:oe},methods:{saveData(e){this.$store.dispatch("coaches/registerCoach",e),this.$router.replace("/coaches")}}};const ie=(0,d.Z)(re,[["render",T]]);var ne=ie;const le=e=>((0,r.dD)("data-v-4ffb223e"),e=e(),(0,r.Cn)(),e),ce={class:"form-control"},de=le((()=>(0,r._)("label",{for:"email"},"Your E-Mail",-1))),ue={class:"form-control"},he=le((()=>(0,r._)("label",{for:"message"},"Message",-1))),me={key:0,class:"errors"},pe={class:"actions"};function fe(e,t,a,o,i,n){const l=(0,r.up)("base-button");return(0,r.wg)(),(0,r.iD)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[(0,r._)("div",ce,[de,(0,r.wy)((0,r._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e)},null,512),[[s.nr,i.email,void 0,{trim:!0}]])]),(0,r._)("div",ue,[he,(0,r.wy)((0,r._)("textarea",{rows:"5",id:"message","onUpdate:modelValue":t[1]||(t[1]=e=>i.message=e)},null,512),[[s.nr,i.message,void 0,{trim:!0}]])]),i.formIsValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",me," Please enter a valid email and non-empty message. ")),(0,r._)("div",pe,[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Uk)("Send Message")])),_:1})])],32)}var ge={data(){return{email:"",message:"",formIsValid:!0}},methods:{submitForm(){this.formIsValid=!0,""!==this.email&&this.email.includes("@")&&""!==this.message?(this.$store.dispatch("requests/contactCoach",{email:this.email,message:this.message,coachId:this.$route.params.id}),this.$router.replace("/coaches")):this.formIsValid=!1}}};const ve=(0,d.Z)(ge,[["render",fe],["__scopeId","data-v-4ffb223e"]]);var we=ve;const _e=e=>((0,r.dD)("data-v-47e2041e"),e=e(),(0,r.Cn)(),e),ke=_e((()=>(0,r._)("header",null,[(0,r._)("h2",null,"Requests Received")],-1))),be={key:1},ye={key:2};function Ce(e,t,a,s,o,n){const l=(0,r.up)("base-dialog"),c=(0,r.up)("base-spinner"),d=(0,r.up)("request-item"),u=(0,r.up)("base-card");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(l,{show:!!o.error,title:"An error occurred!",onClose:n.handleError},{default:(0,r.w5)((()=>[(0,r._)("p",null,(0,i.zw)(o.error),1)])),_:1},8,["show","onClose"]),(0,r._)("section",null,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[ke,o.isLoading?((0,r.wg)(),(0,r.j4)(c,{key:0})):n.hasRequests&&!o.isLoading?((0,r.wg)(),(0,r.iD)("ul",be,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.receivedRequests,(e=>((0,r.wg)(),(0,r.j4)(d,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"])))),128))])):((0,r.wg)(),(0,r.iD)("h3",ye,"You haven't received any requests yet!"))])),_:1})])])}const Ie=["href"];function qe(e,t,a,s,o,n){return(0,r.wg)(),(0,r.iD)("li",null,[(0,r._)("div",null,[(0,r._)("a",{href:n.emailLink},(0,i.zw)(a.email),9,Ie)]),(0,r._)("p",null,(0,i.zw)(a.message),1)])}var De={props:["email","message"],computed:{emailLink(){return"mailto:"+this.email}}};const Ve=(0,d.Z)(De,[["render",qe],["__scopeId","data-v-205ae8ba"]]);var Le=Ve,Fe={components:{RequestItem:Le},data(){return{isLoading:!1,error:null}},computed:{receivedRequests(){return this.$store.getters["requests/requests"]},hasRequests(){return this.$store.getters["requests/hasRequests"]}},created(){this.loadRequests()},methods:{async loadRequests(){this.isLoading=!0;try{await this.$store.dispatch("requests/fetchRequests")}catch(e){this.error=e.message||"Something failed!"}this.isLoading=!1},handleError(){this.error=null}}};const Ne=(0,d.Z)(Fe,[["render",Ce],["__scopeId","data-v-47e2041e"]]);var We=Ne;const Ue=(0,r._)("h2",null,"Page not found",-1);function $e(e,t){const a=(0,r.up)("router-link"),s=(0,r.up)("base-card");return(0,r.wg)(),(0,r.iD)("section",null,[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[Ue,(0,r._)("p",null,[(0,r.Uk)(" This page could not be found - maybe check out all our "),(0,r.Wm)(a,{to:"/coaches"},{default:(0,r.w5)((()=>[(0,r.Uk)("coaches")])),_:1}),(0,r.Uk)(". ")])])),_:1})])}const Re={},je=(0,d.Z)(Re,[["render",$e]]);var Ae=je;const Se=e=>((0,r.dD)("data-v-79256fb0"),e=e(),(0,r.Cn)(),e),xe={class:"form-control"},Te=Se((()=>(0,r._)("label",{for:"email"},"E-Mail",-1))),Oe={class:"form-control"},Ee=Se((()=>(0,r._)("label",{for:"password"},"Password",-1))),Be={key:0};function Ze(e,t,a,o,n,l){const c=(0,r.up)("base-dialog"),d=(0,r.up)("base-spinner"),u=(0,r.up)("base-button"),h=(0,r.up)("base-card");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(c,{show:!!n.error,title:"An error occurred",onClose:l.handleError},{default:(0,r.w5)((()=>[(0,r._)("p",null,(0,i.zw)(n.error),1)])),_:1},8,["show","onClose"]),(0,r.Wm)(c,{show:n.isLoading,title:"Authenticating...",fixed:""},{default:(0,r.w5)((()=>[(0,r.Wm)(d)])),_:1},8,["show"]),(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,r._)("div",xe,[Te,(0,r.wy)((0,r._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e)},null,512),[[s.nr,n.email,void 0,{trim:!0}]])]),(0,r._)("div",Oe,[Ee,(0,r.wy)((0,r._)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e)},null,512),[[s.nr,n.password,void 0,{trim:!0}]])]),n.formIsValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",Be," Please enter a valid email and password (must be at least 6 characters long). ")),(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(l.submitButtonCaption),1)])),_:1}),(0,r.Wm)(u,{type:"button",mode:"flat",onClick:l.switchAuthMode},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(l.switchModeButtonCaption),1)])),_:1},8,["onClick"])],32)])),_:1})])}var ze={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const e={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",e):await this.$store.dispatch("signup",e);const t="/"+(this.$route.query.redirect||"coaches");this.$router.replace(t)}catch(t){this.error=t.message||"Failed to authenticate, try later."}this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}};const Me=(0,d.Z)(ze,[["render",Ze],["__scopeId","data-v-79256fb0"]]);var Pe=Me,Ye=a(3907),He=(a(7658),{registerCoach(e,t){e.coaches.push(t)},setCoaches(e,t){e.coaches=t},setFetchTimestamp(e){e.lastFetch=(new Date).getTime()}}),Je={async registerCoach(e,t){const a=e.rootGetters.userId,s={firstName:t.first,lastName:t.last,description:t.desc,hourlyRate:t.rate,areas:t.areas},o=e.rootGetters.token,r=await fetch(`https://vue-js-a3a53-default-rtdb.firebaseio.com/coaches/${a}.json?auth=`+o,{method:"PUT",body:JSON.stringify(s)});r.ok,e.commit("registerCoach",{...s,id:a})},async loadCoaches(e,t){if(!t.forceRefresh&&!e.getters.shouldUpdate)return;const a=await fetch("https://vue-js-a3a53-default-rtdb.firebaseio.com/coaches.json"),s=await a.json();if(!a.ok){const e=new Error(s.message||"Failed to fetch!");throw e}const o=[];for(const r in s){const e={id:r,firstName:s[r].firstName,lastName:s[r].lastName,description:s[r].description,hourlyRate:s[r].hourlyRate,areas:s[r].areas};o.push(e)}e.commit("setCoaches",o),e.commit("setFetchTimestamp")}},Ge={coaches(e){return e.coaches},hasCoaches(e){return e.coaches&&e.coaches.length>0},isCoach(e,t,a,s){const o=t.coaches,r=s.userId;return o.some((e=>e.id===r))},shouldUpdate(e){const t=e.lastFetch;if(!t)return!0;const a=(new Date).getTime();return(a-t)/1e3>60}},Ke={namespaced:!0,state(){return{lastFetch:null,coaches:[{id:"c1",firstName:"Maximilian",lastName:"Schwarzmüller",areas:["frontend","backend","career"],description:"I'm Maximilian and I've worked as a freelance web developer for years. Let me help you become a developer as well!",hourlyRate:30},{id:"c2",firstName:"Julie",lastName:"Jones",areas:["frontend","career"],description:"I am Julie and as a senior developer in a big tech company, I can help you get your first job or progress in your current role.",hourlyRate:30}]}},mutations:He,actions:Je,getters:Ge},Qe={addRequest(e,t){e.requests.push(t)},setRequests(e,t){e.requests=t}},Xe={async contactCoach(e,t){const a={userEmail:t.email,message:t.message},s=await fetch(`https://vue-js-a3a53-default-rtdb.firebaseio.com/requests/${t.coachId}.json`,{method:"POST",body:JSON.stringify(a)}),o=await s.json();if(!s.ok){const e=new Error(o.message||"Failed to send request.");throw e}a.id=o.name,a.coachId=t.coachId,e.commit("addRequest",a)},async fetchRequests(e){const t=e.rootGetters.userId,a=e.rootGetters.token,s=await fetch(`https://vue-js-a3a53-default-rtdb.firebaseio.com/requests/${t}.json?auth=`+a),o=await s.json();if(!s.ok){const e=new Error(o.message||"Failed to fetch requests.");throw e}const r=[];for(const i in o){const e={id:i,coachId:t,userEmail:o[i].userEmail,message:o[i].message};r.push(e)}e.commit("setRequests",r)}},et={requests(e,t,a,s){const o=s.userId;return e.requests.filter((e=>e.coachId===o))},hasRequests(e,t){return t.requests&&t.requests.length>0}},tt={namespaced:!0,state(){return{requests:[]}},mutations:Qe,actions:Xe,getters:et},at={setUser(e,t){e.token=t.token,e.userId=t.userId,e.didAutoLogout=!1},setAutoLogout(e){e.didAutoLogout=!0}};let st;var ot={async login(e,t){return e.dispatch("auth",{...t,mode:"login"})},async signup(e,t){return e.dispatch("auth",{...t,mode:"signup"})},async auth(e,t){const a=t.mode;let s="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCj30deOQrL__V7TOkV6OPpaRYAaqDB4ow";"signup"===a&&(s="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCj30deOQrL__V7TOkV6OPpaRYAaqDB4ow");const o=await fetch(s,{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),r=await o.json();if(!o.ok){const e=new Error(r.message||"Failed to authenticate. Check your login data.");throw e}const i=1e3*+r.expiresIn,n=(new Date).getTime()+i;localStorage.setItem("token",r.idToken),localStorage.setItem("userId",r.localId),localStorage.setItem("tokenExpiration",n),st=setTimeout((function(){e.dispatch("autoLogout")}),i),e.commit("setUser",{token:r.idToken,userId:r.localId})},tryLogin(e){const t=localStorage.getItem("token"),a=localStorage.getItem("userId"),s=localStorage.getItem("tokenExpiration"),o=+s-(new Date).getTime();o<0||(st=setTimeout((function(){e.dispatch("autoLogout")}),o),t&&a&&e.commit("setUser",{token:t,userId:a}))},logout(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(st),e.commit("setUser",{token:null,userId:null})},autoLogout(e){e.dispatch("logout"),e.commit("setAutoLogout")}},rt={userId(e){return e.userId},token(e){return e.token},isAuthenticated(e){return!!e.token},didAutoLogout(e){return e.didAutoLogout}},it={state(){return{userId:null,token:null,didAutoLogout:!1}},mutations:at,actions:ot,getters:rt};const nt=(0,Ye.MT)({modules:{coaches:Ke,requests:tt,auth:it}});var lt=nt;const ct=(0,o.p7)({history:(0,o.PO)(),routes:[{path:"/",redirect:"/auth"},{path:"/coaches",component:S},{path:"/coaches/:id",component:h,props:!0,children:[{path:"contact",component:we}]},{path:"/register",component:ne,meta:{requiresAuth:!0}},{path:"/requests",component:We,meta:{requiresAuth:!0}},{path:"/auth",component:Pe,meta:{requiresUnauth:!0}},{path:"/:notFound(.*)",component:Ae}]});ct.beforeEach((function(e,t,a){e.meta.requiresAuth&&!lt.getters.isAuthenticated?a("/auth"):e.meta.requiresUnauth&&lt.getters.isAuthenticated?a("/coaches"):a()}));var dt=ct;function ut(e,t,a,o,i,n){const l=(0,r.up)("the-header"),c=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),(0,r.Wm)(c,null,{default:(0,r.w5)((e=>[(0,r.Wm)(s.uT,{name:"route",mode:"out-in"},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.j4)((0,r.LL)(e.Component)))])),_:2},1024)])),_:1})],64)}const ht={key:0},mt={key:1},pt={key:2};function ft(e,t,a,s,o,i){const n=(0,r.up)("router-link"),l=(0,r.up)("base-button");return(0,r.wg)(),(0,r.iD)("header",null,[(0,r._)("nav",null,[(0,r._)("h1",null,[(0,r.Wm)(n,{to:"/"},{default:(0,r.w5)((()=>[(0,r.Uk)("Find a Coach")])),_:1})]),(0,r._)("ul",null,[(0,r._)("li",null,[(0,r.Wm)(n,{to:"/coaches"},{default:(0,r.w5)((()=>[(0,r.Uk)("All Coaches")])),_:1})]),i.isLoggedIn?((0,r.wg)(),(0,r.iD)("li",ht,[(0,r.Wm)(n,{to:"/requests"},{default:(0,r.w5)((()=>[(0,r.Uk)("Requests")])),_:1})])):((0,r.wg)(),(0,r.iD)("li",mt,[(0,r.Wm)(n,{to:"/auth"},{default:(0,r.w5)((()=>[(0,r.Uk)("Login")])),_:1})])),i.isLoggedIn?((0,r.wg)(),(0,r.iD)("li",pt,[(0,r.Wm)(l,{onClick:i.logout},{default:(0,r.w5)((()=>[(0,r.Uk)("Logout")])),_:1},8,["onClick"])])):(0,r.kq)("",!0)])])])}var gt={computed:{isLoggedIn(){return this.$store.getters.isAuthenticated}},methods:{logout(){this.$store.dispatch("logout"),this.$router.replace("/auth")}}};const vt=(0,d.Z)(gt,[["render",ft],["__scopeId","data-v-fdb17ada"]]);var wt=vt,_t={components:{TheHeader:wt},computed:{didAutoLogout(){return this.$store.getters.didAutoLogout}},created(){this.$store.dispatch("tryLogin")},watch:{didAutoLogout(e,t){e&&e!==t&&this.$router.replace("/coaches")}}};const kt=(0,d.Z)(_t,[["render",ut]]);var bt=kt;const yt={class:"card"};function Ct(e,t){return(0,r.wg)(),(0,r.iD)("div",yt,[(0,r.WI)(e.$slots,"default",{},void 0,!0)])}const It={},qt=(0,d.Z)(It,[["render",Ct],["__scopeId","data-v-595a6b5e"]]);var Dt=qt;function Vt(e,t,a,s,o,n){const l=(0,r.up)("router-link");return a.link?((0,r.wg)(),(0,r.j4)(l,{key:1,to:a.to,class:(0,i.C_)(a.mode)},{default:(0,r.w5)((()=>[(0,r.WI)(e.$slots,"default",{},void 0,!0)])),_:3},8,["to","class"])):((0,r.wg)(),(0,r.iD)("button",{key:0,class:(0,i.C_)(a.mode)},[(0,r.WI)(e.$slots,"default",{},void 0,!0)],2))}var Lt={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};const Ft=(0,d.Z)(Lt,[["render",Vt],["__scopeId","data-v-370f7814"]]);var Nt=Ft;function Wt(e,t,a,s,o,n){return(0,r.wg)(),(0,r.iD)("span",{class:(0,i.C_)(["badge",a.type])},(0,i.zw)(n.text),3)}var Ut={props:["type","title"],computed:{text(){return this.title.toUpperCase()}}};const $t=(0,d.Z)(Ut,[["render",Wt],["__scopeId","data-v-d9189d3e"]]);var Rt=$t;const jt=e=>((0,r.dD)("data-v-50c886a0"),e=e(),(0,r.Cn)(),e),At={class:"spinner"},St=jt((()=>(0,r._)("div",{class:"lds-roller"},[(0,r._)("div"),(0,r._)("div"),(0,r._)("div"),(0,r._)("div"),(0,r._)("div"),(0,r._)("div"),(0,r._)("div"),(0,r._)("div")],-1))),xt=[St];function Tt(e,t){return(0,r.wg)(),(0,r.iD)("div",At,xt)}const Ot={},Et=(0,d.Z)(Ot,[["render",Tt],["__scopeId","data-v-50c886a0"]]);var Bt=Et;const Zt={key:0,open:""},zt={key:0};function Mt(e,t,a,o,n,l){const c=(0,r.up)("base-button");return(0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[a.show?((0,r.wg)(),(0,r.iD)("div",{key:0,onClick:t[0]||(t[0]=(...e)=>l.tryClose&&l.tryClose(...e)),class:"backdrop"})):(0,r.kq)("",!0),(0,r.Wm)(s.uT,{name:"dialog"},{default:(0,r.w5)((()=>[a.show?((0,r.wg)(),(0,r.iD)("dialog",Zt,[(0,r._)("header",null,[(0,r.WI)(e.$slots,"header",{},(()=>[(0,r._)("h2",null,(0,i.zw)(a.title),1)]),!0)]),(0,r._)("section",null,[(0,r.WI)(e.$slots,"default",{},void 0,!0)]),a.fixed?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("menu",zt,[(0,r.WI)(e.$slots,"actions",{},(()=>[(0,r.Wm)(c,{onClick:l.tryClose},{default:(0,r.w5)((()=>[(0,r.Uk)("Close")])),_:1},8,["onClick"])]),!0)]))])):(0,r.kq)("",!0)])),_:3})])}var Pt={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}};const Yt=(0,d.Z)(Pt,[["render",Mt],["__scopeId","data-v-a600cbf0"]]);var Ht=Yt;const Jt=(0,s.ri)(bt);Jt.use(dt),Jt.use(lt),Jt.component("base-card",Dt),Jt.component("base-button",Nt),Jt.component("base-badge",Rt),Jt.component("base-spinner",Bt),Jt.component("base-dialog",Ht),Jt.mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,r){if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],r=e[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&r||i>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(n=!1,r<i&&(i=r));if(n){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,o,r]}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,r,i=s[0],n=s[1],l=s[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(l)var d=l(a)}for(t&&t(s);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},s=self["webpackChunkmain_prj"]=self["webpackChunkmain_prj"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(318)}));s=a.O(s)})();
//# sourceMappingURL=app.c83f8e9a.js.map